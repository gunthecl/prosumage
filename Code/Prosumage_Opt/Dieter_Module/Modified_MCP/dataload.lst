GAMS 24.2.1  r43572 Released Dec  9, 2013 WEX-WEI x86_64/MS Windows 10/22/18 14:23:16 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1   
   2  **************************************************************************
      ******
      The Dispatch and Investment Evaluation Tool with Endogenous Renewables (DI
      ETER).
      Version 1.3.0, October 2017.
      Written by Alexander Zerrahn and Wolf-Peter Schill.
      This work is licensed under the MIT License (MIT).
      For more information on this license, visit http://opensource.org/licenses
      /mit-license.php.
      Whenever you use this code, please refer to http://www.diw.de/dieter.
      We are happy to receive feedback under azerrahn@diw.de and wschill@diw.de.
  12  **************************************************************************
      ******
  13   
  14   
  15   
  16   
  17  ***************  SETS  ***************************************************
      ******
  18   
  19  ***** Sets used in the model *****
  20  Sets
  21  tech                     Generation technologies
  22   dis(tech)               Dispatchable generation technologies
  23   nondis(tech)            Nondispatchable generation technologies
  24   con(tech)               Conventional generation technologies
  25   res(tech)               Renewable generation technologies
  26  sto                      Storage technologies
  27  rsvr                     Reservoir technologies
  28  dsm                      DSM technologies
  29   dsm_shift(dsm)          DSM load shifting technologies
  30   dsm_curt(dsm)           DSM load curtailment technologies
  31  year                     Base year for temporal data
  32  h                        Hours
  33  n                        Nodes
  34  l                        Lines
  35  ev                       EV types
  36  reserves                         Reserve qualities
  37   reserves_up(reserves)           Positive reserves
  38   reserves_do(reserves)           Negative reserves
  39   reserves_spin(reserves)         Spinning reserves
  40   reserves_nonspin(reserves)      Nonspinning reserves
  41   reserves_prim(reserves)         Primary reserves
  42   reserves_nonprim(reserves)      Nonprimary reserves
  43   reserves_prim_up(reserves)      Primary positive reserves
  44   reserves_nonprim_up(reserves)   Nonprimary positive reserves
  45   reserves_prim_do(reserves)      Primary negative reserves
  46   reserves_nonprim_do(reserves)   Nonprimary negative reserves
  47  bu                       Building archtypes
  48  ch                       Heating combination type
  49   hst(ch)                 Heating technology that feeds to storage
  50   hp(ch)                  Heat pump technologies
  51   hel(ch)                 Hybrid electric heating technologies - electric p
      art
  52   hfo(ch)                 Hybrid electric heating technologies - fossil par
      t
  53   
  54   
  55  ***** Sets used for data upload *****
  56  headers_tech                     Generation technologies - upload headers
  57   tech_dispatch                   Generation technologies - dispatchable or
       nondispatchable
  58   tech_res_con                    Generation technologies - renewable or "c
      onventional"
  59  headers_sto                      Storage technologies - upload headers
  60  headers_reservoir                Reservoir technologies - upload headers
  61  headers_dsm                      DSM technologies - upload headers
  62   dsm_type                        DSM technologies - shifting or curtailmen
      t
  63  headers_time                     Temporal data - upload headers
  64  headers_topology                 Spatial data - upload headers
  65  headers_ev                       EV data - upload headers
  66  headers_time_ev                  EV temporal data - upload headers
  67  headers_prosumage_generation     Prosumage generation data - upload header
      s
  68  headers_prosumage_storage        Prosumage storage data - upload headers
  69  headers_reserves                 Reserve data - upload headers
  70   reserves_up_down                Reserve data - positive and neagtive rese
      rves
  71   reserves_spin_nonspin           Reserve data - spinning and nonspinning r
      eserves
  72   reserves_prim_nonprim           Reserve data - primary and nonprimary res
      erves
  73  headers_heat                     Heat data - upload headers
  74   heat_storage                    Heat data - storage technologies
  75   heat_hp                         Heat data - heat pump technologies
  76   heat_elec                       Heat data - hybrid heating technologies -
       electric part
  77   heat_fossil                     Heat data - hybrid heating technologies -
       fossil part
  78  headers_time_heat                Heat data - upload headers time data
  79  headers_time_dhw                 Heat data - upload headers time data on D
      HW
  80  ;
  81   
  82   
  83   
  84   
  85  ***************  PARAMETERS  *********************************************
      ******
  86   
  87  Parameters
  88   
  89  ***** Generation technologies *****
  90  *--- Variable and fixed costs ---*
  91  eta              Efficiency of conventional technologies [0 1]
  92  carbon_content   CO2 emissions per fuel unit used [tons per MWh thermal]
  93  c_up             Load change costs UP [EUR per MWh]
  94  c_do             Load change costs DOWN [EUR per MWh]
  95  c_fix            Annual fixed costs [EUR per MW per year]
  96  c_vom            Variable O&M costs [EUR per MWh]
  97  CO2price         CO2 price in [EUR per ton]
  98   
  99  *--- Investment ---*
 100  c_inv_overnight  Investment costs: Overnight [EUR per MW]
 101  lifetime         Investment costs: technical lifetime [a]
 102  recovery         Investment costs: Recovery period according to depreciati
      on tables [a]
 103  interest_rate    Investment costs: Interest rate [%]
 104  m_p              Investment: maximum installable capacity per technology [
      MW]
 105  m_e              Investment: maximum installable energy [TWh per a]
 106   
 107  *--- Flexibility ---*
 108  grad_per_min     Maximum load change relative to installed capacity [% of 
      installed capacity per minute]
 109   
 110   
 111  ***** Fuel and CO2 costs *****
 112  fuelprice        Fuel price conventionals [EUR per MWh thermal]
 113   
 114   
 115  ***** Renewables *****
 116  c_cu             Hourly Curtailment costs for renewables [Euro per MW]
 117  phi_min_res      Minimum renewables share [0 1]
 118   
 119   
 120  ***** Storage *****
 121  *--- Variable and fixed costs ---*
 122  c_m_sto          Marginal costs of storing in or out [EUR per MWh]
 123  eta_sto          Storage efficiency [0 1]
 124  phi_sto_ini      Initial storage level [0 1]
 125  etop_max         Maximum E to P ratio of storage types [#]
 126  c_fix_sto        Annual fixed costs [EUR per MW]
 127   
 128  *--- Investment ---*
 129  c_inv_overnight_sto_e       Investment costs for storage energy: Overnight
       [EUR per MWh]
 130  c_inv_overnight_sto_p       Investment costs for storage capacity: Overnig
      ht [EUR per MW]
 131  m_sto_e                     Investment into storage: maximum installable e
      nergy [MWh]
 132  m_sto_p                     Investment into storage: maximum installable p
      ower [MW]
 133   
 134   
 135  ***** Reservoir*****
 136  *--- Variable and fixed costs ---*
 137  c_m_rsvr                 Marginal costs of generating energy from reservoi
      r [EUR per MWh]
 138  eta_rsvr                 Generation efficiency [0 1]
 139  phi_rsvr_ini             Initial reservoir level [0 1]
 140  c_fix_rsvr               Annual fixed costs [EUR per MW per a]
 141  phi_rsvr_min             Minimum hourly reservoir outflow as fraction of a
      nnual energy [0 1]
 142  phi_rsvr_lev_min         Minimum filling level [0 1]
 143   
 144  *--- Investment ---*
 145  c_inv_overnight_rsvr_e   Investment costs for reservoir energy: Overnight 
      [EUR per MWh]
 146  c_inv_overnight_rsvr_p   Investment costs for reservoir capacity: Overnigh
      t [EUR per MW]
 147  inv_lifetime_rsvr        Investment costs for reservoir: technical lifetim
      e [a]
 148  inv_interest_rsvr        Investment costs for reservoir: Interest rate [%]
 149  m_rsvr_e                 Investment into reservoir: maximum installable en
      ergy [MWh]
 150  m_rsvr_p                 Investment into reservoir: maximum installable ca
      pacity [MW]
 151   
 152   
 153  ***** DSM *****
 154  *--- Variable and fixed costs ---*
 155  c_m_dsm_cu       DSM: hourly costs of load curtailment [EUR per MWh]
 156  c_m_dsm_shift    DSM: costs for load shifting [EUR per MWh]
 157  c_fix_dsm_cu     Annual fixed costs load curtailment capacity [EUR per MW 
      per a]
 158  c_fix_dsm_shift  Annual fixed costs load shifting capacity [EUR per MW per
       a]
 159   
 160  *--- Flexibility, efficiency, recovery ---*
 161  t_dur_dsm_cu     DSM: Maximum duration load curtailment [h]
 162  t_off_dsm_cu     DSM: Minimum recovery time between two load curtailment i
      nstances [h]
 163   
 164  t_dur_dsm_shift  DSM: Maximum duration load shifting [h]
 165  t_off_dsm_shift  DSM: Minimum recovery time between two granular load upsh
      ift instances [h]
 166  eta_dsm_shift    DSM: Efficiency of load shifting technologies [0 1]
 167   
 168  *--- Investment ---*
 169  c_inv_overnight_dsm_cu           Investment costs for DSM load curtailment
      : Overnight [EUR per MW]
 170  c_inv_overnight_dsm_shift        Investment costs for DSM load shifting: O
      vernight [EUR per MW]
 171  inv_recovery_dsm_cu              Investment costs for DSM load curtailment
      : Recovery period [a]
 172  inv_recovery_dsm_shift           Investment costs for DSM load shifting: R
      ecovery period [a]
 173  inv_interest_dsm_cu              Investment costs for DSM load curtailment
      : Interest rate [%]
 174  inv_interest_dsm_shift           Investment costs for DSM load shifting: I
      nterest rate [%]
 175  m_dsm_cu                         DSM: Maximum installable capacity load cu
      rtailment [MW]
 176  m_dsm_shift                      DSM: Maximum installable capacity load sh
      ifting [MW]
 177   
 178   
 179  ***** Time Data *****
 180  d_y                      Demand hour h for different years [MWh]
 181  d                        Demand hour h [MWh]
 182  phi_res_y                Renewables availability technology res in hour h 
      for different years [0 1]
 183  phi_res                  Renewables availability technology res in hour h 
      [0 1]
 184  phi_ror_y                Run-of-river availability technology ror in hour 
      h for different years [0 1]
 185  phi_ror                  Run-of-river availability technology ror in hour 
      h [0 1]
 186  rsvr_in_y                Reservoir inflow in hour h for different years [0
       1]
 187  rsvr_in                  Reservoir inflow in hour h [0 1]
 188  n_ev_p_upload            Power rating of the charging connection in hour h
       [MW - 0 when car is in use or parked without grid connection]
 189  ev_ed_upload             Electricity demand for mobility vehicle profile e
      v in hour h [MW]
 190  ev_ged_exog_upload       Electricity demand for mobility in case of uncont
      rolled charging vehicle profile ev in hour h [MW]
 191  phi_reserves_call_y      Hourly share of reserve provision that is actuall
      y activated for different years [0 1]
 192  phi_reserves_call        Hourly share of reserve provision that is actuall
      y activated [0 1]
 193  reserves_exogenous_y     Hourly reserve provision for different years [MW]
 194  reserves_exogenous       Hourly reserve provision [MW]
 195   
 196  ***** Transmission *****
 197  *--- Investment ---*
 198  c_inv_overnight_ntc       Investment costs in: overnight [EUR per MW]
 199  c_fix_ntc                 Fixed costs [EUR per MW per a]
 200  inv_lifetime_ntc          Investment costs: technical lifetime [a]
 201  inv_recovery_ntc          Investment costs: Recovery period in [a]
 202  inv_interest_ntc          Investment costs: Interest rate [%]
 203  m_ntc                     Investment into NTC: maximum installable capacit
      y [MW]
 204   
 205  *--- Topology and distance ---*
 206  inc              Incidence index of link l on node n
 207  dist             Distance covered by link l [km]
 208   
 209   
 210  ***** Electric vehicles *****
 211  *--- Costs and attributes ---*
 212  c_m_ev           Marginal costs of discharging V2G [EUR per MWh]
 213  pen_phevfuel     Penalty for non-electric PHEV operation mode [EUR per MWh
      ]
 214  eta_ev_in        Electric vehicle efficiency of charging (G2V) [0 1]
 215  eta_ev_out       Electric vehicle efficiency of discharging (V2G) [0 1]
 216  phi_ev_ini       Electric vehicle charging level in initial period [0 1]
 217   
 218  n_ev_e           Electric vehicle battery capacity [MWh]
 219  ev_quant         Overall number of electirc vehicles [#]
 220  phi_ev           Share of electric vehicles per load profile in actual sce
      nario [0 1]
 221  ev_phev          Defines whether an electric vehicle is a PHEV REEV [1 if 
      yes 0 otherwise]
 222   
 223  *--- Temporal data ---*
 224  n_ev_p           Electric vehicle power rating [MWh]
 225  ev_ed            Electric vehicle electricity demand [MWh]
 226  ev_ged_exog      Electric vehicle grid electricity demand for exogenous ch
      arging pattern [MWh]
 227   
 228   
 229  ***** Prosumage *****
 230  phi_pro_load             Share of prosumagers among total load [0 1]
 231  phi_pro_self             Minimum self-generation shares for prosumagers [0
       1]
 232  m_res_pro                Maximum installable: renewables capacity [MW]
 233  m_sto_pro_e              Maximum installable: storage energy [MWh]
 234  m_sto_pro_p              Maximum installable: storage capacity [MW]
 235  phi_sto_pro_ini          Prosumagers' initial storage loading [0 1]
 236   
 237   
 238  ***** Reserves *****
 239  phi_reserves_share       Shares of SRL and MRL up and down [0 1]
 240  reserves_intercept       Intercept of regression line determining reserves
       demand
 241  reserves_slope           Slope of regression line determining reserves dem
      and
 242  reserves_reaction        Activation reaction time for reserves qualities [
      min]
 243  phi_reserves_pr_up       Positive primary reserves fraction of total nonpr
      imary reserves demand [0 1]
 244  phi_reserves_pr_do       Negative primary reserves fraction of total nonpr
      imary reserves demand [0 1]
 245  *reserves_exog
 246   
 247   
 248  ***** Heat *****
 249  *--- Time data ---*
 250  dh_upload                Hourly heat demand per year for upload [MWh per m
      2]
 251  dh_y                     Hourly heat demand per year [MWh per m2]
 252  dh                       Hourly heat demand [MWh per m2]
 253  temp_source              Heat pumps - source temperature [°Celsius]
 254  d_dhw_upload             Hourly DHW demand per year for upload [MWh per m2
      ]
 255  d_dhw_y                  Hourly DHW demand per year [MWh per m2]
 256  d_dhw                    Hourly DHW demand [MWh per m2]
 257  nets_profile(h)          Hourly exogenous heat demand by nonsmart night-ti
      me storage heaters [MWh per m2]
 258   
 259  *--- Technololgy attributes ---*
 260  phi_heat_type            Share of heating type ch per building archetype b
      u [0 1]
 261  eta_heat_stat            Static efficiency for heating technologies [0 1]
 262  eta_heat_dyn             Static efficiency for heating technologies [0 1]
 263  eta_dhw_aux_stat         Static efficiency for auxiliary DHW technologies 
      [0 1]
 264  n_heat_p_in              Maximum power inflow into heating technologies [M
      W]
 265  n_heat_p_out             Maximum power outflow from heating technologies [
      MW]
 266  n_heat_e                 Maximum energy level of heating storage technolog
      ies [MWh]
 267  n_sets_p_in              SETS - Power rating - electricity intake [MW]
 268  n_sets_p_out             SETS - Power rating - heat output [MW]
 269  n_sets_e                 SETS - Energy storage capacity [MWh]
 270  n_sets_dhw_p_in          SETS auxiliary DHW module - power rating - electr
      icity intake [MW]
 271  n_sets_dhw_p_out         SETS auxiliary DHW module - power rating - DHW ou
      tput [MW]
 272  n_sets_dhw_e             SETS auxiliary DHW module - energy storage capaci
      ty [MWh]
 273  phi_heat_ini             Inititial storage level of heating technologies [
      0 1]
 274  temp_sink                Heat pumps - sink temperature [°Celsius]
 275  pen_heat_fuel            Penalty term for non-electric fuel usage for hybr
      id heating technologies [EUR per MWh]
 276  area_floor               Floor area subject to specific heating technology
       in specific building type [m2]
 277  theta_night              Indicator for night hours {0 1}
 278   
 279   
 280   
 281  ***************  DERIVED PARAMETERS  *************************************
      ******
 282   
 283  c_m              Marginal production costs for conventional plants includi
      ng variable O and M costs [EUR per MWh]
 284  c_i              Annualized investment costs by conventioanl plant [EUR pe
      r MW]
 285   
 286  c_i_res          Annualized investment costs by renewable plant [EUR per M
      W]
 287  c_fix_res        Annualized fixed costs by renewable plant [EUR per MW per
       a]
 288   
 289  c_i_sto_e        Annualized investment costs storage energy [EUR per MWh]
 290  c_i_sto_p        Annualized investment costs storage capacity [EUR per MW]
 291   
 292  c_i_rsvr_e       Annualized investment costs storage energy [EUR per MWh]
 293  c_i_rsvr_p       Annualized investment costs storage capacity [EUR per MW]
 294   
 295  c_i_dsm_cu       DSM: Annualized investment costs load curtailment [EUR pe
      r MW]
 296  c_i_dsm_shift    DSM: Annualized investment costs load shifting [EUR per M
      W]
 297   
 298  c_i_ntc          Investment for net transfer capacity [EUR per MW and km]
 299   
 300  phi_mean_reserves_call_y         Hourly mean of share reserves called per 
      year [0 1]
 301  phi_mean_reserves_call           Hourly mean of share reserves called [0 1
      ]
 302   
 303  theta_dir        Dummy equal to 1 if building type bu has direct heating t
      ype ch [0 1]
 304  theta_sets       Dummy equal to 1 if building type bu has SETS heating typ
      e ch [0 1]
 305  theta_hp         Dummy equal to 1 if building type bu has heat pump heatin
      g type ch [0 1]
 306  theta_elec       Dummy equal to 1 if building type bu has hybrif electric 
      heating - electric part [0 1]
 307  theta_fossil     Dummy equal to 1 if building type bu has hybrif electric 
      heating - fossil part [0 1]
 308  theta_storage    Dummy equal to 1 if building type ch has storage heating 
      type ch [0 1]
 309   
 310   
 311   
 312   
 313  ***************  PARAMETERS FOR DATA UPLOAD  *****************************
      ******
 314   
 315  technology_data_upload(n,tech,tech_res_con,tech_dispatch,headers_tech)
 316  technology_data(n,tech,headers_tech)
 317  storage_data(n,sto,headers_sto)
 318  reservoir_data(n,rsvr,headers_reservoir)
 319  time_data_upload(h,n,year,headers_time)
 320  dsm_data_upload(n,dsm,dsm_type,headers_dsm)
 321  dsm_data(n,dsm,headers_dsm)
 322  topology_data(l,headers_topology)
 323  ev_data(n,ev,headers_ev)
 324  ev_time_data_upload(h,headers_time_ev,ev)
 325  prosumage_data_generation(n,tech,headers_prosumage_generation)
 326  prosumage_data_storage(n,sto,headers_prosumage_storage)
 327  reserves_time_data_activation(h,year,reserves)
 328  reserves_time_data_provision(h,year,reserves)
 329  reserves_data_upload(n,reserves,reserves_up_down,reserves_spin_nonspin,res
      erves_prim_nonprim,headers_reserves)
 330  reserves_data(n,reserves,headers_reserves)
 331  heat_data_upload(n,bu,ch,heat_storage,heat_hp,heat_elec,heat_fossil,header
      s_heat)
 332  heat_data(n,bu,ch,headers_heat)
 333  dh_upload(h,n,year,headers_time_heat,bu)
 334  d_dhw_upload(h,n,year,headers_time_heat,bu)
 335  temp_source_upload
 336  ;
 337   
 338   
 339   
 340   
 341  ***************  UPLOAD TIME-CONSTANT SETS AND PARAMETERS  ***************
      ******
 342   
 402   
 403  %skip_Excel$call "gdxxrw data_input.xlsx @temp.tmp o=Data_input maxdupeerr
****  $409
      ors=100";
 404   
GDXIN   C:\Users\cguenther\Documents\GitHub\prosumage\Code\Prosumage_Opt\Dieter_
        Module\Modified_MCP\Data_input.gdx
--- LOAD  n = 1:n
--- LOAD  tech = 2:tech
--- LOAD  headers_tech = 3:headers_tech
--- LOAD  tech_dispatch = 4:tech_dispatch
--- LOAD  tech_res_con = 5:tech_res_con
--- LOAD  sto = 6:sto
--- LOAD  headers_sto = 7:headers_sto
--- LOAD  rsvr = 8:rsvr
--- LOAD  headers_reservoir = 9:headers_reservoir
--- LOAD  reservoir_data = 33:reservoir_data
--- LOAD  dsm = 10:dsm
--- LOAD  headers_dsm = 11:headers_dsm
--- LOAD  dsm_type = 12:dsm_type
--- LOAD  technology_data_upload = 31:technology_data_upload
--- LOAD  storage_data = 32:storage_data
--- LOAD  dsm_data_upload = 34:dsm_data_upload
 409  %GER_only$load l headers_topology topology_data inc
****  $409
 410  %GER_only$ontext
--- LOAD  l = 13:l
--- LOAD  headers_topology = 14:headers_topology
--- LOAD  topology_data = 35:topology_data
--- LOAD  ev = 15:ev
--- LOAD  headers_ev = 16:headers_ev
--- LOAD  ev_data = 36:ev_data
--- LOAD  headers_prosumage_generation = 17:headers_prosumage_generation
--- LOAD  headers_prosumage_storage = 18:headers_prosumage_storage
--- LOAD  prosumage_data_generation = 37:prosumage_data_generation
--- LOAD  prosumage_data_storage = 38:prosumage_data_storage
--- LOAD  reserves = 19:reserves
--- LOAD  reserves_up_down = 21:reserves_up_down
--- LOAD  reserves_spin_nonspin = 22:reserves_spin_nonspin
--- LOAD  reserves_prim_nonprim = 23:reserves_prim_nonprim
--- LOAD  headers_reserves = 20:headers_reserves
--- LOAD  reserves_data_upload = 39:reserves_data_upload
--- LOAD  bu = 24:bu
--- LOAD  ch = 25:ch
--- LOAD  heat_storage = 26:heat_storage
--- LOAD  heat_hp = 27:heat_hp
--- LOAD  heat_elec = 28:heat_elec
--- LOAD  heat_fossil = 29:heat_fossil
--- LOAD  headers_heat = 30:headers_heat
--- LOAD  heat_data_upload = 40:heat_data_upload
 418  ;
 419   
 420  %GER_only$ontext
****  $409
 421  parameter inc ;
 422  inc(l,n) = 1 ;
 425   
 426   
 427  ***************  UPLOAD TIME-SERIES SETS AND PARAMETERS  *****************
      ******
 428   
 454   
 455  %skip_Excel$call "gdxxrw time_series.xlsx @temp2.tmp o=time_series";
****  $409
 456   
GDXIN   C:\Users\cguenther\Documents\GitHub\prosumage\Code\Prosumage_Opt\Dieter_
        Module\Modified_MCP\time_series.gdx
--- LOAD  h = 1:h
--- LOAD  headers_time = 2:headers_time
--- LOAD  year = 3:year
--- LOAD  time_data_upload = 4:time_data_upload
--- LOAD  headers_time_ev = 5:headers_time_ev
--- LOAD  ev_time_data_upload = 6:ev_time_data_upload
--- LOAD  reserves_time_data_activation = 7:reserves_time_data_activation
--- LOAD  reserves_time_data_provision = 8:reserves_time_data_provision
--- LOAD  headers_time_heat = 9:headers_time_heat
--- LOAD  dh_upload = 10:dh_upload
--- LOAD  theta_night = 11:theta_night
--- LOAD  temp_source_upload = 15:temp_source_upload
--- LOAD  headers_time_dhw = 12:headers_time_dhw
--- LOAD  d_dhw_upload = 13:d_dhw_upload
--- LOAD  nets_profile = 14:nets_profile
 466  ;
 467   
 468   
 469   
 470   
 471  ***************  ASSIGNMENTS  ********************************************
      ******
 472   
 473   
 474   
 475  ***** Aliases *****
 476  alias (h,hh) ;
 477  alias (res,resres) ;
 478  alias (reserves,reservesreserves) ;
 479  alias (nondis,nondisnondis) ;
 480   
 481   
 482   
 483  ***** Derived sets *****
 484  dis(tech)$sum( (n,tech_res_con,headers_tech), technology_data_upload(n,tec
      h,tech_res_con,'dis',headers_tech)) = yes;
 485  nondis(tech)$sum( (n,tech_res_con,headers_tech), technology_data_upload(n,
      tech,tech_res_con,'nondis',headers_tech)) = yes;
 486   
 487  con(tech)$sum( (n,tech_dispatch,headers_tech), technology_data_upload(n,te
      ch,'con',tech_dispatch,headers_tech)) = yes;
 488  res(tech)$sum( (n,tech_dispatch,headers_tech), technology_data_upload(n,te
      ch,'res',tech_dispatch,headers_tech)) = yes;
 489   
 490  reserves_up(reserves)$sum( (n,reserves_spin_nonspin,reserves_prim_nonprim,
      headers_reserves), reserves_data_upload(n,reserves,'up',reserves_spin_nons
      pin,reserves_prim_nonprim,headers_reserves)) = yes;
 491  reserves_do(reserves)$sum( (n,reserves_spin_nonspin,reserves_prim_nonprim,
      headers_reserves), reserves_data_upload(n,reserves,'do',reserves_spin_nons
      pin,reserves_prim_nonprim,headers_reserves)) = yes;
 492   
 493  reserves_spin(reserves)$sum( (n,reserves_up_down,reserves_prim_nonprim,hea
      ders_reserves), reserves_data_upload(n,reserves,reserves_up_down,'spin',re
      serves_prim_nonprim,headers_reserves)) = yes;
 494  reserves_nonspin(reserves)$sum( (n,reserves_up_down,reserves_prim_nonprim,
      headers_reserves), reserves_data_upload(n,reserves,reserves_up_down,'nonsp
      in',reserves_prim_nonprim,headers_reserves)) = yes;
 495   
 496  reserves_prim(reserves)$sum( (n,reserves_up_down,reserves_spin_nonspin,hea
      ders_reserves), reserves_data_upload(n,reserves,reserves_up_down,reserves_
      spin_nonspin,'prim',headers_reserves)) = yes;
 497  reserves_nonprim(reserves)$sum( (n,reserves_up_down,reserves_spin_nonspin,
      headers_reserves), reserves_data_upload(n,reserves,reserves_up_down,reserv
      es_spin_nonspin,'nonprim',headers_reserves)) = yes;
 498   
 499  reserves_prim_up(reserves)$sum( (n,reserves_spin_nonspin,headers_reserves)
      , reserves_data_upload(n,reserves,'up',reserves_spin_nonspin,'prim',header
      s_reserves)) = yes;
 500  reserves_prim_do(reserves)$sum( (n,reserves_spin_nonspin,headers_reserves)
      , reserves_data_upload(n,reserves,'do',reserves_spin_nonspin,'prim',header
      s_reserves)) = yes;
 501  reserves_nonprim_up(reserves)$sum( (n,reserves_spin_nonspin,headers_reserv
      es), reserves_data_upload(n,reserves,'up',reserves_spin_nonspin,'nonprim',
      headers_reserves)) = yes;
 502  reserves_nonprim_do(reserves)$sum( (n,reserves_spin_nonspin,headers_reserv
      es), reserves_data_upload(n,reserves,'do',reserves_spin_nonspin,'nonprim',
      headers_reserves)) = yes;
 503   
 504  hst(ch)$sum( (n,bu,heat_hp,heat_elec,heat_fossil,headers_heat), heat_data_
      upload(n,bu,ch,'yes',heat_hp,heat_elec,heat_fossil,headers_heat)) = yes;
 505  hp(ch)$sum( (n,bu,heat_storage,heat_elec,heat_fossil,headers_heat), heat_d
      ata_upload(n,bu,ch,heat_storage,'yes',heat_elec,heat_fossil,headers_heat))
       = yes;
 506   
 507  hel(ch)$sum( (n,bu,heat_storage,heat_hp,heat_fossil,headers_heat), heat_da
      ta_upload(n,bu,ch,heat_storage,heat_hp,'yes',heat_fossil,headers_heat)) = 
      yes;
 508  hfo(ch)$sum( (n,bu,heat_storage,heat_hp,heat_elec,headers_heat), heat_data
      _upload(n,bu,ch,heat_storage,heat_hp,heat_elec,'yes',headers_heat)) = yes;
 509   
 510   
 511   
 512   
 513  ***** Parameters *****
 514   
 515  *--- Generation technologies ---*
 516  technology_data(n,tech,headers_tech) = sum((tech_res_con,tech_dispatch), t
      echnology_data_upload(n,tech,tech_res_con,tech_dispatch,headers_tech)) ;
 517  eta(n,tech) = technology_data(n,tech,'eta_con') ;
 518  carbon_content(n,tech) = technology_data(n,tech,'carbon_content') ;
 519  c_up(n,dis) =technology_data(n,dis,'load change costs up') ;
 520  c_do(n,dis) = technology_data(n,dis,'load change costs down') ;
 521  c_fix(n,tech) = technology_data(n,tech,'fixed_costs') ;
 522  c_vom(n,tech) = technology_data(n,tech,'variable_om') ;
 523  CO2price(n,tech) = technology_data(n,tech,'CO2_price') ;
 524   
 525  c_inv_overnight(n,tech) = technology_data(n,tech,'oc') ;
 526  lifetime(n,tech) = technology_data(n,tech,'lifetime') ;
 527  recovery(n,tech) = technology_data(n,tech,'recovery_period') ;
 528  interest_rate(n,tech) = technology_data(n,tech,'interest_rate') ;
 529  m_p(n,tech) = technology_data(n,tech,'max_installable') ;
 530  m_e(n,tech) = technology_data(n,tech,'max_energy') ;
 531  grad_per_min(n,dis) = technology_data(n,dis,'load change flexibility') ;
 532  fuelprice(n,tech) = technology_data(n,tech,'fuel costs') ;
 533   
 534  c_cu(n,res) = technology_data(n,res,'curtailment_costs') ;
 535   
 536   
 537  *--- Storage technologies ---*
 538  c_m_sto(n,sto) = storage_data(n,sto,'mc');
 539  eta_sto(n,sto) = storage_data(n,sto,'efficiency');
 540  c_fix_sto(n,sto) = storage_data(n,sto,'fixed_costs');
 541  phi_sto_ini(n,sto) = storage_data(n,sto,'level_start');
 542  etop_max(n,sto) = storage_data(n,sto,'etop_max') ;
 543   
 544  c_inv_overnight_sto_e(n,sto) = storage_data(n,sto,'oc_energy');
 545  c_inv_overnight_sto_p(n,sto) = storage_data(n,sto,'oc_capacity');
 546  lifetime(n,sto) = storage_data(n,sto,'lifetime');
 547  interest_rate(n,sto) = storage_data(n,sto,'interest_rate');
 548  m_sto_e(n,sto) = storage_data(n,sto,'max_energy');
 549  m_sto_p(n,sto) = storage_data(n,sto,'max_power');
 550   
 551   
 552  *--- Reservoir technologies ---*
 553  c_m_rsvr(n,rsvr) = reservoir_data(n,rsvr,'mc');
 554  eta_rsvr(n,rsvr) = reservoir_data(n,rsvr,'efficiency');
 555  c_fix_rsvr(n,rsvr) = reservoir_data(n,rsvr,'fixed_costs');
 556  phi_rsvr_ini(n,rsvr) = reservoir_data(n,rsvr,'level_start');
 557  phi_rsvr_lev_min(n,rsvr) = reservoir_data(n,rsvr,'level_min');
 558   
 559  c_inv_overnight_rsvr_e(n,rsvr) = reservoir_data(n,rsvr,'oc_energy');
 560  c_inv_overnight_rsvr_p(n,rsvr) = reservoir_data(n,rsvr,'oc_capacity');
 561  inv_lifetime_rsvr(n,rsvr) = reservoir_data(n,rsvr,'lifetime');
 562  inv_interest_rsvr(n,rsvr) = reservoir_data(n,rsvr,'interest_rate');
 563  m_rsvr_e(n,rsvr) = reservoir_data(n,rsvr,'max_energy');
 564  m_rsvr_p(n,rsvr) = reservoir_data(n,rsvr,'max_power');
 565   
 566   
 567  *--- DSM technologies ---*
 568  dsm_curt(dsm)$sum( (n,dsm_type,headers_dsm), dsm_data_upload(n,dsm,'curt',
      headers_dsm)) = yes;
 569  dsm_shift(dsm)$sum( (n,dsm_type,headers_dsm), dsm_data_upload(n,dsm,'shift
      ',headers_dsm)) = yes;
 570  dsm_data(n,dsm,headers_dsm) = sum(dsm_type, dsm_data_upload(n,dsm,dsm_type
      ,headers_dsm) ) ;
 571   
 572  c_m_dsm_cu(n,dsm_curt) = dsm_data(n,dsm_curt,'mc')     ;
 573  c_m_dsm_shift(n,dsm_shift) = dsm_data(n,dsm_shift,'mc')  ;
 574  c_fix_dsm_cu(n,dsm_curt) = dsm_data(n,dsm_curt,'fc')  ;
 575  c_fix_dsm_shift(n,dsm_shift) = dsm_data(n,dsm_shift,'fc') ;
 576   
 577  t_dur_dsm_cu(n,dsm_curt) = dsm_data(n,dsm_curt,'max_duration')   ;
 578  t_off_dsm_cu(n,dsm_curt) = dsm_data(n,dsm_curt,'recovery_time')   ;
 579  t_dur_dsm_shift(n,dsm_shift) = dsm_data(n,dsm_shift,'max_duration')   ;
 580  t_off_dsm_shift(n,dsm_shift) = dsm_data(n,dsm_shift,'recovery_time')   ;
 581  eta_dsm_shift(n,dsm_shift)  = dsm_data(n,dsm_shift,'efficiency')   ;
 582   
 583  c_inv_overnight_dsm_cu(n,dsm_curt) =  dsm_data(n,dsm_curt,'oc')   ;
 584  c_inv_overnight_dsm_shift(n,dsm_shift)  =  dsm_data(n,dsm_shift,'oc')   ;
 585  inv_recovery_dsm_cu(n,dsm_curt)  =  dsm_data(n,dsm_curt,'lifetime')   ;
 586  inv_recovery_dsm_shift(n,dsm_shift)   =  dsm_data(n,dsm_shift,'lifetime') 
        ;
 587  inv_interest_dsm_cu(n,dsm_curt)   =  dsm_data(n,dsm_curt,'interest_rate') 
        ;
 588  inv_interest_dsm_shift(n,dsm_shift)  =  dsm_data(n,dsm_shift,'interest_rat
      e')   ;
 589  m_dsm_cu(n,dsm_curt) =  dsm_data(n,dsm_curt,'max_installable')   ;
 590  m_dsm_shift(n,dsm_shift) =  dsm_data(n,dsm_shift,'max_installable')   ;
 591   
 592   
 593  *--- Temporal data ---*
 594  d_y(n,year,h) = time_data_upload(h,n,year,'demand')  ;
 595  phi_res_y(n,year,res,h) = sum(headers_time$(sameas(res,headers_time)), tim
      e_data_upload(h,n,year,headers_time));
 596  rsvr_in_y(n,year,rsvr,h) = sum(headers_time$(sameas(rsvr,headers_time)), t
      ime_data_upload(h,n,year,headers_time));
 597  phi_reserves_call_y(n,year,reserves,h) = reserves_time_data_activation(h,y
      ear,reserves) ;
 598  reserves_exogenous_y(n,year,reserves,h) = reserves_time_data_provision(h,y
      ear,reserves) ;
 599   
 600   
 601  *--- Spatial data ---*
 602  inv_lifetime_ntc(l) = topology_data(l,'lifetime') ;
 603  inv_recovery_ntc(l) = topology_data(l,'recovery_period') ;
 604  inv_interest_ntc(l) = topology_data(l,'interest_rate') ;
 605  c_inv_overnight_ntc(l) = topology_data(l,'overnight_costs') ;
 606  c_fix_ntc(l) = topology_data(l,'fixed_costs') ;
 607  m_ntc(l) = topology_data(l,'max_installable') ;
 608  dist(l) = topology_data(l,'distance') ;
 609   
 610   
 611  *--- Electric vehicles ---*
 612  c_m_ev(n,ev) = ev_data(n,ev,'mc') ;
 613  pen_phevfuel(n,ev) = ev_data(n,ev,'penalty_fuel') ;
 614  eta_ev_in(n,ev) = ev_data(n,ev,'efficiency_charge') ;
 615  eta_ev_out(n,ev) = ev_data(n,ev,'efficiency_discharge') ;
 616  phi_ev_ini(n,ev) = ev_data(n,ev,'ev_start') ;
 617   
 618  n_ev_e(n,ev) = ev_data(n,ev,'ev_capacity') ;
 619  phi_ev(n,ev) = ev_data(n,ev,'share_ev') ;
 620  ev_phev(n,ev) = ev_data(n,ev,'ev_type') ;
 621   
 622  n_ev_p(n,ev,h) = ev_time_data_upload(h,'n_ev_p',ev) ;
 623  ev_ed(n,ev,h) = ev_time_data_upload(h,'ev_ed',ev) ;
 624  ev_ged_exog(n,ev,h) = ev_time_data_upload(h,'ev_ged_exog',ev) ;
 625   
 626   
 627  *--- Prosumage ---*
 628  m_res_pro(n,res) = prosumage_data_generation(n,res,'max_power') ;
 629  m_sto_pro_e(n,sto) = prosumage_data_storage(n,sto,'max_energy') ;
 630  m_sto_pro_p(n,sto) = prosumage_data_storage(n,sto,'max_power') ;
 631  phi_sto_pro_ini(n,sto) = prosumage_data_storage(n,sto,'level_start') ;
 632   
 633   
 634  *--- Reserves ---*
 635  reserves_data(n,reserves,headers_reserves) = sum((reserves_up_down,reserve
      s_spin_nonspin,reserves_prim_nonprim), reserves_data_upload(n,reserves,res
      erves_up_down,reserves_spin_nonspin,reserves_prim_nonprim,headers_reserves
      )) ;
 636  phi_reserves_share(n,reserves) = reserves_data(n,reserves,'share_sr_mr') ;
 637  reserves_intercept(n,reserves) = reserves_data(n,reserves,'intercept') ;
 638  reserves_slope(n,reserves,'wind_on') = reserves_data(n,reserves,'slope_win
      d_on') ;
 639  reserves_slope(n,reserves,'wind_off') = reserves_data(n,reserves,'slope_wi
      nd_off') ;
 640  reserves_slope(n,reserves,'pv') = reserves_data(n,reserves,'slope_pv') ;
 641  reserves_reaction(n,reserves) = reserves_data(n,reserves,'reaction_time') 
      ;
 642  phi_reserves_pr_up(n) = reserves_data(n,'PR_up','fraction_pr') ;
 643  phi_reserves_pr_do(n) = reserves_data(n,'PR_do','fraction_pr') ;
 644   
 645   
 646  *--- Heat ---*
 647  heat_data(n,bu,ch,headers_heat) = sum((heat_storage,heat_hp,heat_elec,heat
      _fossil), heat_data_upload(n,bu,ch,heat_storage,heat_hp,heat_elec,heat_fos
      sil,headers_heat)) ;
 648  phi_heat_type(n,bu,ch) = heat_data(n,bu,ch,'share') ;
 649  dh_y(n,year,bu,ch,h) = phi_heat_type(n,bu,ch) * dh_upload(h,n,year,'demand
      ',bu) ;
 650  d_dhw_y(n,year,bu,ch,h) = phi_heat_type(n,bu,ch) * d_dhw_upload(h,n,year,'
      demand',bu) ;
 651   
 652  eta_heat_stat(n,bu,ch) = heat_data(n,bu,ch,'static_efficiency') ;
 653  eta_heat_dyn(n,bu,ch) = heat_data(n,bu,ch,'dynamic_efficiency') ;
 654  eta_dhw_aux_stat(n,bu,ch) = heat_data(n,bu,ch,'static_efficiency_sets_aux_
      dhw') ;
 655  * currently not used
 656  n_heat_p_in(n,bu,ch) = heat_data(n,bu,ch,'max_power') ;
 657  n_heat_p_out(n,bu,ch) = heat_data(n,bu,ch,'max_outflow') ;
 658  n_heat_e(n,bu,ch) = heat_data(n,bu,ch,'max_level') ;
 659  n_sets_p_in(n,bu,ch) = heat_data(n,bu,ch,'max_power') ;
 660  n_sets_p_out(n,bu,ch) = heat_data(n,bu,ch,'max_outflow') ;
 661  n_sets_e(n,bu,ch) = heat_data(n,bu,ch,'max_level') ;
 662  n_sets_dhw_p_in(n,bu,ch) = heat_data(n,bu,ch,'max_power_in_sets_aux_dhw') 
      ;
 663  n_sets_dhw_p_out(n,bu,ch) = heat_data(n,bu,ch,'max_power_out_sets_aux_dhw'
      ) ;
 664  n_sets_dhw_e(n,bu,ch) = heat_data(n,bu,ch,'max_energy_sets_aux_dhw') ;
 665  phi_heat_ini(n,bu,ch) = heat_data(n,bu,ch,'level_ini') ;
 666  temp_sink(n,bu,ch) = heat_data(n,bu,ch,'temperature_sink') ;
 667   
 668  temp_source(n,bu,'hp_as',h) = temp_source_upload(h,n,'hp_as') ;
 669  temp_source(n,bu,'hp_gs',h) = heat_data(n,bu,'hp_gs','temperature_source')
       ;
 670   
 671  temp_source(n,bu,'gas_hp_gs',h) = heat_data(n,bu,'gas_hp_gs','temperature_
      source') ;
 672  temp_source(n,bu,'hp_gs_elec',h) = heat_data(n,bu,'hp_gs_elec','temperatur
      e_source') ;
 673   
 674  pen_heat_fuel(n,bu,ch) = heat_data(n,bu,ch,'penalty_non-electric_heat_supp
      ly') ;
 675   
 676  area_floor(n,bu,ch) = heat_data(n,bu,ch,'area_floor') ;
 677   
 678   
 679   
 680  ***************  CALCULATE DERIVED PARAMETERS  ***************************
      ******
 681   
 682  c_m(n,tech) = fuelprice(n,tech)/eta(n,tech) + carbon_content(n,tech)/eta(n
      ,tech)*CO2price(n,tech) + c_vom(n,tech)   ;
 683   
 684  c_i(n,tech) = c_inv_overnight(n,tech)*( interest_rate(n,tech) * (1+interes
      t_rate(n,tech))**(lifetime(n,tech)) )
 685                    / ( (1+interest_rate(n,tech))**(lifetime(n,tech))-1 )   
          ;
 686   
 687  c_i_res(n,res) = c_i(n,res) ;
 688  c_fix_res(n,res) = c_fix(n,res) ;
 689   
 690  c_i_sto_e(n,sto) = c_inv_overnight_sto_e(n,sto)*( interest_rate(n,sto) * (
      1+interest_rate(n,sto))**(lifetime(n,sto)) )
 691                   / ( (1+interest_rate(n,sto))**(lifetime(n,sto))-1 )      
       ;
 692   
 693  c_i_sto_p(n,sto) = c_inv_overnight_sto_p(n,sto)*( interest_rate(n,sto) * (
      1+interest_rate(n,sto))**(lifetime(n,sto)) )
 694                   / ( (1+interest_rate(n,sto))**(lifetime(n,sto))-1 )      
       ;
 695   
 696  c_i_rsvr_e(n,rsvr) = c_inv_overnight_rsvr_e(n,rsvr)*( inv_interest_rsvr(n,
      rsvr) * (1+inv_interest_rsvr(n,rsvr))**(inv_lifetime_rsvr(n,rsvr)) )
 697                   / ( (1+inv_interest_rsvr(n,rsvr))**(inv_lifetime_rsvr(n,r
      svr))-1 )       ;
 698   
 699  c_i_rsvr_p(n,rsvr) = c_inv_overnight_rsvr_p(n,rsvr)*( inv_interest_rsvr(n,
      rsvr) * (1+inv_interest_rsvr(n,rsvr))**(inv_lifetime_rsvr(n,rsvr)) )
 700                   / ( (1+inv_interest_rsvr(n,rsvr))**(inv_lifetime_rsvr(n,r
      svr))-1 )       ;
 701   
 702  c_i_dsm_cu(n,dsm_curt) =c_inv_overnight_dsm_cu(n,dsm_curt)*( inv_interest_
      dsm_cu(n,dsm_curt) * (1+inv_interest_dsm_cu(n,dsm_curt))**(inv_recovery_ds
      m_cu(n,dsm_curt)) )
 703                   / ( (1+inv_interest_dsm_cu(n,dsm_curt))**(inv_recovery_ds
      m_cu(n,dsm_curt))-1 )       ;
 704   
 705  c_i_dsm_shift(n,dsm_shift) = c_inv_overnight_dsm_shift(n,dsm_shift)*( inv_
      interest_dsm_shift(n,dsm_shift) * (1+inv_interest_dsm_shift(n,dsm_shift))*
      *(inv_recovery_dsm_shift(n,dsm_shift)) )
 706                   / ( (1+inv_interest_dsm_shift(n,dsm_shift))**(inv_recover
      y_dsm_shift(n,dsm_shift))-1 )       ;
 707   
 708  c_i_ntc(l) = c_inv_overnight_ntc(l) * (inv_interest_ntc(l) * (1 + inv_inte
      rest_ntc(l))**(inv_lifetime_ntc(l)) )
 709                   / ((1 + inv_interest_ntc(l)) ** (inv_lifetime_ntc(l))-1 )
       ;
 710   
 711  phi_mean_reserves_call_y(n,year,reserves) = sum(h, phi_reserves_call_y(n,y
      ear,reserves,h) ) / card(h) + eps ;
 712   
 713   
 714  theta_sets(n,bu,'setsh')$(smax( (heat_storage,heat_hp,heat_elec,heat_fossi
      l,headers_heat) , heat_data_upload(n,bu,'setsh',heat_storage,heat_hp,heat_
      elec,heat_fossil,headers_heat)) > 0 AND phi_heat_type(n,bu,'setsh')) = 1;
 715  theta_dir(n,bu,'dir')$(smax((heat_storage,heat_hp,heat_elec,heat_fossil,he
      aders_heat) , heat_data_upload(n,bu,'dir',heat_storage,heat_hp,heat_elec,h
      eat_fossil,headers_heat)) > 0 AND phi_heat_type(n,bu,'dir')) = 1;
 716   
 717  theta_storage(n,bu,ch)$(sum((heat_hp,heat_elec,heat_fossil,headers_heat), 
      heat_data_upload(n,bu,ch,'yes',heat_hp,heat_elec,heat_fossil,headers_heat)
      ) AND phi_heat_type(n,bu,ch)) = 1;
 718  theta_hp(n,bu,ch)$sum( (heat_storage,heat_elec,heat_fossil,headers_heat), 
      heat_data_upload(n,bu,ch,heat_storage,'yes',heat_elec,heat_fossil,headers_
      heat) AND phi_heat_type(n,bu,ch)) = 1;
 719   
 720  theta_elec(n,bu,ch)$sum( (heat_storage,heat_hp,heat_fossil,headers_heat), 
      heat_data_upload(n,bu,ch,heat_storage,heat_hp,'yes',heat_fossil,headers_he
      at) AND phi_heat_type(n,bu,ch)) = 1;
 721  theta_fossil(n,bu,ch)$sum( (heat_storage,heat_hp,heat_elec,headers_heat), 
      heat_data_upload(n,bu,ch,heat_storage,heat_hp,heat_elec,'yes',headers_heat
      ) AND phi_heat_type(n,bu,ch)) = 1;
 722   
 723   
 724   
 725  ***************  Adjust costs to model's hourly basis ********************
      ******
 726   
 727  c_i(n,tech) = c_i(n,tech)*card(h)/8760 ;
 728  c_i_res(n,tech) = c_i_res(n,tech)*card(h)/8760 ;
 729  c_i_sto_p(n,sto) = c_i_sto_p(n,sto)*card(h)/8760 ;
 730  c_i_sto_e(n,sto) = c_i_sto_e(n,sto)*card(h)/8760 ;
 731  c_i_rsvr_e(n,rsvr) = c_i_rsvr_e(n,rsvr)*card(h)/8760 ;
 732  c_i_rsvr_p(n,rsvr) = c_i_rsvr_p(n,rsvr)*card(h)/8760 ;
 733  c_i_dsm_cu(n,dsm_curt) = c_i_dsm_cu(n,dsm_curt)*card(h)/8760 ;
 734  c_i_dsm_shift(n,dsm_shift) = c_i_dsm_shift(n,dsm_shift)*card(h)/8760 ;
 735   
 736  c_fix(n,tech) = c_fix(n,tech)*card(h)/8760 ;
 737  c_fix_sto(n,sto) = c_fix_sto(n,sto)*card(h)/8760 ;
 738  c_fix_dsm_cu(n,dsm_curt) = c_fix_dsm_cu(n,dsm_curt)*card(h)/8760 ;
 739  c_fix_dsm_shift(n,dsm_shift) = c_fix_dsm_shift(n,dsm_shift)*card(h)/8760 ;
 740  c_fix_rsvr(n,rsvr) = c_fix_rsvr(n,rsvr)*card(h)/8760 ;
 741   
 742  m_e(n,'bio') = m_e(n,'bio')*card(h)/8760 ;
 743   
 744  c_i_ntc(l) = c_i_ntc(l) * card(h)/8760 ;
 745   
 746  *t_dur_dsm_cu(n,dsm_curt) = t_dur_dsm_cu(n,dsm_curt) ;
 747  *t_off_dsm_cu(n,dsm_curt) = t_off_dsm_cu(n,dsm_curt) ;
 748  *t_dur_dsm_shift(n,dsm_shift)$(ord(dsm_shift)=2 or ord(dsm_shift)=4 or ord
      (dsm_shift)=5) = t_dur_dsm_shift(n,dsm_shift) / 2 ;
 749  *t_dur_dsm_shift(n,dsm_shift)$(ord(dsm_shift)=1 or ord(dsm_shift)=3) = 2 ;
 750   
 751   
 752   
 753  ***************  Check for parameter sanity ******************************
      ******
 754   
 755  Parameter
 756  check_heat
 757  check_heat_agg ;
 758  check_heat(n,bu) = sum( ch , phi_heat_type(n,bu,ch)) ;
 759  check_heat_agg = smax( (n,bu) , check_heat(n,bu) ) ;
 760  *abort$(check_heat_agg > 1) "DATA: heating technologies for a building typ
      e do not add up to 100 percent" ;
 761   
 762   
 763   
 764   
 765  ***************  Infeasibility *******************************************
      ******
 766   
 767  Positive variable
 768  G_INFES(n,h)
 769  ;
 770   
 771  Parameter
 772  c_infes  /100000/
 773  ;
 774   
 775   
 776   
 777   
 778   
 779   
 780   
 781   
 782   
 783   
 784   
 785   
 786   
 787   
GAMS 24.2.1  r43572 Released Dec  9, 2013 WEX-WEI x86_64/MS Windows 10/22/18 14:23:16 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


409  Unrecognizable item - skip to find a new statement
       looking for a ';' or a key word to get started again

**** 4 ERROR(S)   0 WARNING(S)
GAMS 24.2.1  r43572 Released Dec  9, 2013 WEX-WEI x86_64/MS Windows 10/22/18 14:23:16 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\cguenther\Documents\GitHub\pr
                                          osumage\Code\Prosumage_Opt\Dieter_Modu
                                          le\Modified_MCP\dataload.gms
     2      405 GDXIN          1     405  C:\Users\cguenther\Documents\GitHub\pr
                                          osumage\Code\Prosumage_Opt\Dieter_Modu
                                          le\Modified_MCP\Data_input.gdx
     3      457 GDXIN          1     457  C:\Users\cguenther\Documents\GitHub\pr
                                          osumage\Code\Prosumage_Opt\Dieter_Modu
                                          le\Modified_MCP\time_series.gdx


COMPILATION TIME     =        0.125 SECONDS     25 MB  24.2.1 r43572 WEX-WEI


USER: Abteilung Energie, Verkehr, Umwelt, 5 User     S131220:0515AN-GEN
      Deutsches Institut fuer Wirtschaftsforschung DIW           DC3975
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\cguenther\Documents\GitHub\prosumage\Code\Prosumage_Opt\Diet
           er_Module\Modified_MCP\dataload.gms
Output     C:\Users\cguenther\Documents\GitHub\prosumage\Code\Prosumage_Opt\Diet
           er_Module\Modified_MCP\dataload.lst

**** USER ERROR(S) ENCOUNTERED
